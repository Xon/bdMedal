<?xml version="1.0" encoding="utf-8"?>
<template_modifications>
  <modification type="public" template="member_macros" modification_key="bdmedal_member_view_moderator_menu_actions" description="Link in member's moderator menu." execution_order="10" enabled="1" action="str_replace">
    <find><![CDATA[<!--[XF:moderator_menu:bottom]-->
]]></find>
    <replace><![CDATA[$0

<xf:macro template="bdmedal_member_view_macros" name="moderator_menu_actions" arg-user="{$user}"/>
]]></replace>
  </modification>
  <modification type="public" template="member_view" modification_key="bdmedal_member_view_tabs" description="Tab on profile page." execution_order="10" enabled="1" action="preg_replace">
    <find><![CDATA[/<!--\[XF:(tabs|tab_panes):after_recent_content\]-->/]]></find>
    <replace><![CDATA[$0

<xf:macro template="bdmedal_member_view_macros" name="$1" arg-user="{$user}"/>
]]></replace>
  </modification>
  <modification type="public" template="message_macros" modification_key="bdmedal_message_macros_user_info" description="Medals in message." execution_order="4294967295" enabled="1" action="preg_replace">
    <find><![CDATA[#(<xf:if is="\$extras.custom_fields">.+?)(</xf:contentcheck>)#s
]]></find>
    <replace><![CDATA[$1<xf:macro template="bdmedal_message_macros" name="user_info" arg-user="{$user}"/>

$2
]]></replace>
  </modification>
</template_modifications>
